<?xml version='1.0' encoding='utf-8'?>
<widget id="com.timetable.app" version="3.0.0" xmlns="http://www.w3.org/ns/widgets" xmlns:cdv="http://cordova.apache.org/ns/1.0">
    <name>课程表</name>
    <description>
        一款基于Vue3和Cordova开发的课程表应用，支持查看课程、添加日程、设置提醒等功能。
    </description>
    <author email="example@example.com" href="http://example.com">
        Timetable Team
    </author>
    <content src="index.html" />
    <access origin="*" />
    <allow-intent href="http://*/*" />
    <allow-intent href="https://*/*" />
    <allow-intent href="tel:*" />
    <allow-intent href="sms:*" />
    <allow-intent href="mailto:*" />
    <allow-intent href="geo:*" />
    
    <!-- 平台配置 -->
    <platform name="android">
        <allow-intent href="market:*" />
        <!-- 安卓特定配置 -->
        <preference name="android-minSdkVersion" value="21" />
        <preference name="android-targetSdkVersion" value="33" />
        <preference name="AndroidXEnabled" value="true" />
        <preference name="GradlePluginKotlinEnabled" value="true" />
        <preference name="GradlePluginKotlinVersion" value="1.6.0" />
        <preference name="Orientation" value="portrait" />
        <preference name="Fullscreen" value="false" />
        <preference name="StatusBarOverlaysWebView" value="false" />
        <preference name="StatusBarStyle" value="lightcontent" />
        <preference name="BackgroundColor" value="#ffffff" />
    </platform>
    
    <platform name="ios">
        <allow-intent href="itms:*" />
        <allow-intent href="itms-apps:*" />
        <!-- iOS特定配置 -->
        <preference name="Orientation" value="portrait" />
        <preference name="StatusBarOverlaysWebView" value="false" />
        <preference name="StatusBarStyle" value="darkcontent" />
        <preference name="BackgroundColor" value="#ffffff" />
    </platform>
    
    <!-- 核心插件 -->
    <plugin name="cordova-plugin-whitelist" spec="1.3.5" />
    <plugin name="cordova-plugin-statusbar" spec="2.4.3" />
    <plugin name="cordova-plugin-device" spec="2.1.0" />
    <plugin name="cordova-plugin-splashscreen" spec="6.0.2" />
    <plugin name="cordova-plugin-globalization" spec="1.11.0" />
    
    <!-- 功能插件 -->
    <plugin name="cordova-plugin-local-notification" spec="0.9.0-beta.3" />
    <plugin name="cordova-plugin-file" spec="7.0.0" />
    <plugin name="cordova-plugin-storage-access-framework" spec="2.5.0" />
    <plugin name="cordova-plugin-screen-orientation" spec="3.0.2" />
    <plugin name="cordova-plugin-battery-status" spec="2.0.3" />
    
    <!-- 外观配置 -->
    <icon src="resources/icon.png" />
    <splash src="resources/splash.png" />
    
    <!-- 安全配置 -->
    <preference name="DisallowOverscroll" value="true" />
    <preference name="BackupWebStorage" value="none" />
    <preference name="TopActivityIndicator" value="whiteLarge" />
    <preference name="KeyboardDisplayRequiresUserAction" value="false" />
    
    <!-- 启动配置 -->
    <preference name="AutoHideSplashScreen" value="true" />
    <preference name="SplashScreenDelay" value="3000" />
    <preference name="FadeSplashScreenDuration" value="500" />
    <preference name="ShowSplashScreenSpinner" value="false" />
    
    <!-- WebView配置 -->
    <preference name="WebViewBounce" value="false" />
    <preference name="UIWebViewDecelerationSpeed" value="normal" />
    <preference name="EnableViewportScale" value="true" />
    <preference name="MediaPlaybackRequiresUserAction" value="false" />
    
    <!-- 其他配置 -->
    <preference name="LoadUrlTimeoutValue" value="60000" />
    <preference name="AndroidPersistentFileLocation" value="Compatibility" />
    <preference name="iosPersistentFileLocation" value="Library" />
    
    <!-- 内容安全策略 -->
    <meta-data http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;" />
    
    <!-- 支持的语言 -->
    <config-file parent="/*" target="res/values/strings.xml">
        <string name="app_name">课程表</string>
    </config-file>
    
    <!-- 自定义属性 -->
    <custom-urlscheme name="timetable" />
</widget>